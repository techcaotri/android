
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Android PMS - Android 6 PMS analysis article 2 Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="@gitbook-ng/gitbook 3.3.6">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fancybox/jquery.fancybox.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-anchor-navigation-ex-toc/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-wide-page/wide.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Android PMS - Android 6 PMS analysis of the next article.html" />
    
    
    <link rel="prev" href="Android PMS - Android 6 PMS analysis article 1.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Graphical Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="Graphical Android - Zygote, System Server startup analysis.html">
            
                <a href="Graphical Android - Zygote, System Server startup analysis.html">
            
                    
                    Graphical Android - Zygote, System Server startup analysis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Android Permissions
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="Android Permissions - Android Runtime Permission.html">
            
                <a href="Android Permissions - Android Runtime Permission.html">
            
                    
                    Android Permissions - Android Runtime Permission
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="Android Permissions - Android grantRuntimePermission Detailed.html">
            
                <a href="Android Permissions - Android grantRuntimePermission Detailed.html">
            
                    
                    Android Permissions - Android grantRuntimePermission Detailed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="Android Permissions - Android GrantPermissionsActivity Detailed.html">
            
                <a href="Android Permissions - Android GrantPermissionsActivity Detailed.html">
            
                    
                    Android Permissions - Android GrantPermissionsActivity Detailed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="Android Permissions - AppOps control for Normal permission.html">
            
                <a href="Android Permissions - AppOps control for Normal permission.html">
            
                    
                    Android Permissions - AppOps control for Normal permission
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="Android Permissions - Android native permission control process.html">
            
                <a href="Android Permissions - Android native permission control process.html">
            
                    
                    Android Permissions - Android native permission control process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="Android Permissions - The difference between setUidMode and setMode in AppOps.html">
            
                <a href="Android Permissions - The difference between setUidMode and setMode in AppOps.html">
            
                    
                    Android Permissions - The difference between setUidMode and setMode in AppOps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="Android Permissions - Application permissions before android M and application permissions after M.html">
            
                <a href="Android Permissions - Application permissions before android M and application permissions after M.html">
            
                    
                    Android Permissions - Application permissions before android M and application permissions after M
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="Android Permissions - Provider permissions detailed.html">
            
                <a href="Android Permissions - Provider permissions detailed.html">
            
                    
                    Android Permissions - Provider permissions detailed
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Android OTA
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="Android OTA - Android OTA upgrade principle and process analysis 1.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 1.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="Android OTA - Android OTA upgrade principle and process analysis 2.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 2.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="Android OTA - Android OTA upgrade principle and process analysis 3.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 3.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="Android OTA - Android OTA upgrade principle and process analysis 4.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 4.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="Android OTA - Android OTA upgrade principle and process analysis 5.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 5.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="Android OTA - Android OTA upgrade principle and process analysis 6.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 6.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="Android OTA - Android OTA upgrade principle and process analysis 7.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 7.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="Android OTA - Android OTA upgrade principle and process analysis 8.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 8.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="Android OTA - Android OTA upgrade principle and process analysis 9.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 9.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 9
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Android Package Manager Service (PMS)
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="Android PMS - Explore the Android PMS service.html">
            
                <a href="Android PMS - Explore the Android PMS service.html">
            
                    
                    Android PMS - Explore the Android PMS service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="Android PMS - Some rules of the PMS runtime.html">
            
                <a href="Android PMS - Some rules of the PMS runtime.html">
            
                    
                    Android PMS - Some rules of the PMS runtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="Android PMS - Android 6 PMS Analysis.html">
            
                <a href="Android PMS - Android 6 PMS Analysis.html">
            
                    
                    Android PMS - Android 6 PMS Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="Android PMS - Android 6 PMS analysis article 1.html">
            
                <a href="Android PMS - Android 6 PMS analysis article 1.html">
            
                    
                    Android PMS - Android 6 PMS analysis article 1
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.5" data-path="Android PMS - Android 6 PMS analysis article 2.html">
            
                <a href="Android PMS - Android 6 PMS analysis article 2.html">
            
                    
                    Android PMS - Android 6 PMS analysis article 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="Android PMS - Android 6 PMS analysis of the next article.html">
            
                <a href="Android PMS - Android 6 PMS analysis of the next article.html">
            
                    
                    Android PMS - Android 6 PMS analysis of the next article
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="Android PMS - Android 6 PMS install APK prelude.html">
            
                <a href="Android PMS - Android 6 PMS install APK prelude.html">
            
                    
                    Android PMS - Android 6 PMS install APK prelude
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="Android PMS - Android 6 PMS installation APK.html">
            
                <a href="Android PMS - Android 6 PMS installation APK.html">
            
                    
                    Android PMS - Android 6 PMS installation APK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="Android PMS - Android 6 PMS installation APK next article.html">
            
                <a href="Android PMS - Android 6 PMS installation APK next article.html">
            
                    
                    Android PMS - Android 6 PMS installation APK next article
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="Android PMS - Android 6 PMS Uninstall APK.html">
            
                <a href="Android PMS - Android 6 PMS Uninstall APK.html">
            
                    
                    Android PMS - Android 6 PMS Uninstall APK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="Android PMS - Android 6 PMS daemon installd.html">
            
                <a href="Android PMS - Android 6 PMS daemon installd.html">
            
                    
                    Android PMS - Android 6 PMS daemon installd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Android AOSP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Android AOSP - Debugging AOSP Platform code with Android Studio - Java Debugger.html">
            
                <a href="Android AOSP - Debugging AOSP Platform code with Android Studio - Java Debugger.html">
            
                    
                    Android AOSP - Debugging AOSP Platform code with Android Studio - Java Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Android AOSP - Modify applications and rebuild emulator image effectively.html">
            
                <a href="Android AOSP - Modify applications and rebuild emulator image effectively.html">
            
                    
                    Android AOSP - Modify applications and rebuild emulator image effectively
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Android General
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Android General - Reliable connection to AIDL IPC Service in Android.html">
            
                <a href="Android General - Reliable connection to AIDL IPC Service in Android.html">
            
                    
                    Android General - Reliable connection to AIDL IPC Service in Android
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Android Binder
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Android Activity Manager Service (AMS)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Live555
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Live555 - Live555 source code analysis_introduction.html">
            
                <a href="Live555 - Live555 source code analysis_introduction.html">
            
                    
                    Live555 - Live555 source code analysis_introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Live555 - Live555 source code analysis_infrastructure.html">
            
                <a href="Live555 - Live555 source code analysis_infrastructure.html">
            
                    
                    Live555 - Live555 source code analysis_infrastructure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Live555 - Live555 source code analysis_mediaserver.html">
            
                <a href="Live555 - Live555 source code analysis_mediaserver.html">
            
                    
                    Live555 - Live555 source code analysis_mediaserver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Live555 - Wireshark capture packet analysis RTSP_RTP_RTCP basic working process.html">
            
                <a href="Live555 - Wireshark capture packet analysis RTSP_RTP_RTCP basic working process.html">
            
                    
                    Live555 - Wireshark capture packet analysis RTSP_RTP_RTCP basic working process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="Live555 - Live555 source code analysis_rtspserver.html">
            
                <a href="Live555 - Live555 source code analysis_rtspserver.html">
            
                    
                    Live555 - Live555 source code analysis_rtspserver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="Live555 - Live555 source code analysis_describe processing.html">
            
                <a href="Live555 - Live555 source code analysis_describe processing.html">
            
                    
                    Live555 - Live555 source code analysis_describe processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="Live555 - Live555 source code analysis_setup processing.html">
            
                <a href="Live555 - Live555 source code analysis_setup processing.html">
            
                    
                    Live555 - Live555 source code analysis_setup processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="Live555 - Live555 source code analysis_play processing.html">
            
                <a href="Live555 - Live555 source code analysis_play processing.html">
            
                    
                    Live555 - Live555 source code analysis_play processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="Live555 - Live555 source code analysis_RTSPServer component structure.html">
            
                <a href="Live555 - Live555 source code analysis_RTSPServer component structure.html">
            
                    
                    Live555 - Live555 source code analysis_RTSPServer component structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" data-path="Live555 - Live555 source code analysis_servermediasession.html">
            
                <a href="Live555 - Live555 source code analysis_servermediasession.html">
            
                    
                    Live555 - Live555 source code analysis_servermediasession
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" data-path="Live555 - Live555 source code analysis_subsession SDP line generation.html">
            
                <a href="Live555 - Live555 source code analysis_subsession SDP line generation.html">
            
                    
                    Live555 - Live555 source code analysis_subsession SDP line generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.12" data-path="Live555 - Live555 source code analysis_Subsession SETUP.html">
            
                <a href="Live555 - Live555 source code analysis_Subsession SETUP.html">
            
                    
                    Live555 - Live555 source code analysis_Subsession SETUP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.13" data-path="Live555 - Live555 source code analysis_play start.html">
            
                <a href="Live555 - Live555 source code analysis_play start.html">
            
                    
                    Live555 - Live555 source code analysis_play start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Flutter
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="Flutter Framework Analysis 1 - Overview and Window.html">
            
                <a href="Flutter Framework Analysis 1 - Overview and Window.html">
            
                    
                    Flutter Framework Analysis 1 - Overview and Window
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="Flutter Framework Analysis 2 - Initialization.html">
            
                <a href="Flutter Framework Analysis 2 - Initialization.html">
            
                    
                    Flutter Framework Analysis 2 - Initialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="Flutter Framework Analysis 3 - Widget, Element and RenderObject.html">
            
                <a href="Flutter Framework Analysis 3 - Widget, Element and RenderObject.html">
            
                    
                    Flutter Framework Analysis 3 - Widget, Element and RenderObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="Flutter Framework Analysis 4 - Flutter Framework Operation.html">
            
                <a href="Flutter Framework Analysis 4 - Flutter Framework Operation.html">
            
                    
                    Flutter Framework Analysis 4 - Flutter Framework Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="Flutter Framework Analysis 5 - Animation.html">
            
                <a href="Flutter Framework Analysis 5 - Animation.html">
            
                    
                    Flutter Framework Analysis 5 - Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="Flutter Framework Analysis 6 - Layout.html">
            
                <a href="Flutter Framework Analysis 6 - Layout.html">
            
                    
                    Flutter Framework Analysis 6 - Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="Flutter Framework Analysis 7 - Drawing.html">
            
                <a href="Flutter Framework Analysis 7 - Drawing.html">
            
                    
                    Flutter Framework Analysis 7 - Drawing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Android PMS - Android 6 PMS analysis article 2</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#android-6-pms-analysis-of-article-2"><b>1. </b>Android 6 PMS analysis of article 2</a></li><ul><li><span class="title-icon "></span><a href="#analysis-of-apk-files"><b>1.1. </b>Analysis of APK files</a></li><li><span class="title-icon "></span><a href="#parse-a-single-apk"><b>1.2. </b>Parse a single apk</a></li><li><span class="title-icon "></span><a href="#parsing-an-app-with-multiple-apks"><b>1.3. </b>Parsing an app with multiple apks</a></li><li><span class="title-icon "></span><a href="#scanpackagedirtyli-method"><b>1.4. </b>scanPackageDirtyLI method</a></li></ul></ul></div><a href="#android-6-pms-analysis-of-article-2" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="android-6-pms-analysis-of-article-2"><a name="android-6-pms-analysis-of-article-2" class="anchor-navigation-ex-anchor" href="#android-6-pms-analysis-of-article-2"><i class="fa fa-link" aria-hidden="true"></i></a>1. Android 6 PMS analysis of article 2</h1>
<p><a href="http://www.iloveandroid.net/tags/Android%E6%A0%B8%E5%BF%83%E6%9C%8D%E5%8A%A1/" target="_blank">Android core service</a>
<a href="http://www.iloveandroid.net/categories/Android%E5%BA%95%E5%B1%82%E5%BC%80%E5%8F%91/" target="_blank">Android underlying development</a></p>
<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->
<ul>
<li><a href="#android-6-pms-analysis-of-article-2"><strong>Android 6 PMS analysis of article 2</strong></a><ul>
<li><a href="#analysis-of-apk-files"><strong>Analysis of APK files</strong></a></li>
<li><a href="#parse-a-single-apk"><strong>Parse a single apk</strong></a></li>
<li><a href="#parsing-an-app-with-multiple-apks"><strong>Parsing an app with multiple apks</strong></a></li>
<li><a href="#scanpackagedirtyli-method"><strong>scanPackageDirtyLI method</strong></a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<p>This article focuses on two unanalyzed methods in the previous article.</p>
<h2 id="analysis-of-apk-files"><a name="analysis-of-apk-files" class="anchor-navigation-ex-anchor" href="#analysis-of-apk-files"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Analysis of APK files</h2>
<p>The beginning of the scanPackageLI analysis in the previous article</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">private PackageParser.Package scanPackageLI(File scanFile, int parseFlags, int scanFlags,
         long currentTime, UserHandle user) throws PackageManagerException {
  ..........................
     final PackageParser.Package pkg;
     try {
         pkg = pp.parsePackage(scanFile, parseFlags);
     } catch (PackageParserException e) {
         throw PackageManagerException.from(e);
     }
     ...........<br></div></div>

<p>We did not analyze the PackageParser.parsePackage method and now we are going to
analyze what it does.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">public Package parsePackage(File packageFile, int flags) throws PackageParserException {
      if (packageFile.isDirectory()) {
          return parseClusterPackage(packageFile, flags);
      } else {
          return parseMonolithicPackage(packageFile, flags);
      }
  }<br></div></div>

<p>In the parsePackage method, you need to judge the incoming File.</p>
<p>After Android 5.0, it supports the default of one app to associate multiple
APKs. When an app is like this, these APKs will be placed in a folder, then
parseClusterPackage will be called.</p>
<p>When the incoming file is an apk file, call parseMonolithicPackage to handle it.</p>
<h2 id="parse-a-single-apk"><a name="parse-a-single-apk" class="anchor-navigation-ex-anchor" href="#parse-a-single-apk"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Parse a single apk</h2>
<p>First analyze the case of file as an apk file, namely parseMonolithicPackage:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">public Package parseMonolithicPackage(File apkFile, int flags) throws PackageParserException {
        if (mOnlyCoreApps) {//When the PMS is initialized, the variable is generally false, and is true only in special cases such as encryption and decryption of the data area.
            final PackageLite lite = parseMonolithicPackageLite(apkFile, flags);
            if (!lite.coreApp) {
                throw new PackageParserException(INSTALL_PARSE_FAILED_MANIFEST_MALFORMED,
                        &quot;Not a coreApp: &quot; + apkFile);
            }
        }

        final AssetManager assets = new AssetManager();//AssetManager is the resource management framework
        try {
            final Package pkg = parseBaseApk(apkFile, assets, flags);// When parseBaseApk, will transfer the assets
            pkg.codePath = apkFile.getAbsolutePath();
            return pkg;
        } finally {
            IoUtils.closeQuietly(assets);
        }
    }<br></div></div>


<p>First create a resource management framework object AssetManager, and pass it to
the parseBaseApk method together with apkfile:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">private Package parseBaseApk(File apkFile, AssetManager assets, int flags)
           throws PackageParserException {
       final String apkPath = apkFile.getAbsolutePath();// Return apkFile absolute path name string

       String volumeUuid = null;
       if (apkPath.startsWith(MNT_EXPAND)) {
           final int end = apkPath.indexOf(&apos;/&apos;, MNT_EXPAND.length());
           volumeUuid = apkPath.substring(MNT_EXPAND.length(), end);
       }

       mParseError = PackageManager.INSTALL_SUCCEEDED;
       mArchiveSourcePath = apkFile.getAbsolutePath();

       if (DEBUG_JAR) Slog.d(TAG, &quot;Scanning base APK: &quot; + apkPath);

       final int cookie = loadApkIntoAssetManager(assets, apkPath, flags);

       Resources res = null;
       XmlResourceParser parser = null;
       try {
           res = new Resources(assets, mMetrics, null);
           /*
           The member function updateConfiguration is called in the Resources class constructor.
             The first is to update the current configuration information of the device according to the parameters config and metrics.
             For example, screen size and password, country and language, keyboard configuration, etc.
             Then call the member function setConfiguration of the JavaManager&apos;s AssetManager object pointed to by the member variable mAssets to set the configuration information to the associated AssetManager object of the C++ layer.
           */
           assets.setConfiguration(0, 0, null, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                   Build.VERSION.RESOURCES_SDK_INT);
          //Create an xml parser for AndroidMainfest.xml
           parser = assets.openXmlResourceParser(cookie, ANDROID_MANIFEST_FILENAME);

           final String[] outError = new String[1];
           // Start to really parse AndroidMainfest.xml
           final Package pkg = parseBaseApk(res, parser, flags, outError);
           if (pkg == null) {
               throw new PackageParserException(mParseError,
                       apkPath + &quot; (at &quot; + parser.getPositionDescription() + &quot;): &quot; + outError[0]);
           }

           pkg.volumeUuid = volumeUuid;
           pkg.baseCodePath = apkPath;
           pkg.mSignatures = null;

           return pkg;

       } catch (PackageParserException e) {
           throw e;
       } catch (Exception e) {
           throw new PackageParserException(INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION,
                   &quot;Failed to read manifest from &quot; + apkPath, e);
       } finally {
           IoUtils.closeQuietly(parser);
       }
   }<br></div></div>

<p>The method is blunt, which is to parse the AndroidMainfest.xml file. The real
parsing of this xml is the parseBaseApk method that is called internally. This
method first calls a constructor with pkgName as its argument to create a
PackageParser.Package object.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">public Package(String packageName) {
           this.packageName = packageName;
           applicationInfo.packageName = packageName;
           applicationInfo.uid = -1;
       }<br></div></div>

<p>The next step is to assign the parsed AndroidMainfest.xml information to the
related attribute fields of the Package. Such as the four major components
declared in the xml, the version number of the app and so on.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">public final static class Package {

        public String packageName;

        .........................
        public String codePath;

        /** Path of base APK */
        public String baseCodePath;
        /** Paths of any split APKs, ordered by parsed splitName */
        public String[] splitCodePaths;

        ................................
        // For now we only support one application per package.
       public final ApplicationInfo applicationInfo = new ApplicationInfo();

       public final ArrayList&lt;Permission&gt; permissions = new ArrayList&lt;Permission&gt;(0);
       public final ArrayList&lt;PermissionGroup&gt; permissionGroups = new ArrayList&lt;PermissionGroup&gt;(0);
       public final ArrayList&lt;Activity&gt; activities = new ArrayList&lt;Activity&gt;(0);
       public final ArrayList&lt;Activity&gt; receivers = new ArrayList&lt;Activity&gt;(0);
       public final ArrayList&lt;Provider&gt; providers = new ArrayList&lt;Provider&gt;(0);
       public final ArrayList&lt;Service&gt; services = new ArrayList&lt;Service&gt;(0);
       public final ArrayList&lt;Instrumentation&gt; instrumentation = new ArrayList&lt;Instrumentation&gt;(0);
        .....................................
        // The version code declared for this package.
       public int mVersionCode;

       // The version name declared for this package.
       public String mVersionName;

       // The shared user id that this package wants to use.
       public String mSharedUserId;
       .................................<br></div></div>

<p>In fact, the process of parsing apk is the process of parsing xml and then
populating the PackageParser.Package object.</p>
<p>Timing diagram:</p>
<p>     <a href="media/0753b5916a41376cb450254270e45d50.jpg" rel="grouped" title="http://7xj6ce.com1.z0.glb.clouddn.com/PMS-4.png" target="_self" class="fancybox">
       <img src="media/0753b5916a41376cb450254270e45d50.jpg" alt="http://7xj6ce.com1.z0.glb.clouddn.com/PMS-4.png">
     </a></p>
<h2 id="parsing-an-app-with-multiple-apks"><a name="parsing-an-app-with-multiple-apks" class="anchor-navigation-ex-anchor" href="#parsing-an-app-with-multiple-apks"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Parsing an app with multiple apks</h2>
<p>Split APK is Google&apos;s mechanism for solving the 65536 cap, and the APK
installation package is getting bigger and bigger, introduced in Android L.</p>
<p>Split APK can split a huge APK into multiple independent APKs according to
screen density, ABI, etc. When the application is updated, you don&apos;t have to
download the whole APK, just download a module to install the update.</p>
<p>Split APK separates the original APK from multiple modules sharing the same
resource into multiple APKs using their own resources, and can inherit the
resources in the Base APK. Multiple APKs have the same data, cache directory,
multiple dex files. , the same process, only one APK is displayed in
Settings.apk, and the same package name is used.</p>
<p>     <a href="media/eb87f99e2a865e59672cf540fd44832b.jpg" rel="grouped" title="http://7xj6ce.com1.z0.glb.clouddn.com/PMS-2.png" target="_self" class="fancybox">
       <img src="media/eb87f99e2a865e59672cf540fd44832b.jpg" alt="http://7xj6ce.com1.z0.glb.clouddn.com/PMS-2.png">
     </a></p>
<p>See <a href="http://blog.csdn.net/ximsfei/article/details/50884862" target="_blank">the article</a> to
learn how to use this mechanism.</p>
<p>When this is the case, parseClusterPackage is called</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">private Package parseClusterPackage(File packageDir, int flags) throws PackageParserException {
      // Get the PackageLite object of the application directory, which separately saves the names of the core and non-core applications under the directory.
       final PackageLite lite = parseClusterPackageLite(packageDir, 0);

       if (mOnlyCoreApps &amp;&amp; !lite.coreApp) {
           throw new PackageParserException(INSTALL_PARSE_FAILED_MANIFEST_MALFORMED,
                   &quot;Not a coreApp: &quot; + packageDir);
       }

       final AssetManager assets = new AssetManager();
       try {
           // Load the base and all splits into the AssetManager
           // so that resources can be overriden when parsing the manifests.
           // Load the resources of the core application first
           loadApkIntoAssetManager(assets, lite.baseCodePath, flags);

          // Loading resources from other non-core applications
           if (!ArrayUtils.isEmpty(lite.splitCodePaths)) {
               for (String path : lite.splitCodePaths) {
                   loadApkIntoAssetManager(assets, path, flags);
               }
           }

           final File baseApk = new File(lite.baseCodePath);
           // Parse the base application to parseBaseApk
           final Package pkg = parseBaseApk(baseApk, assets, flags);
           if (pkg == null) {
               throw new PackageParserException(INSTALL_PARSE_FAILED_NOT_APK,
                       &quot;Failed to parse base APK: &quot; + baseApk);
           }

           if (!ArrayUtils.isEmpty(lite.splitNames)) {
               final int num = lite.splitNames.length;
               pkg.splitNames = lite.splitNames;
               pkg.splitCodePaths = lite.splitCodePaths;
               pkg.splitRevisionCodes = lite.splitRevisionCodes;
               pkg.splitFlags = new int[num];
               pkg.splitPrivateFlags = new int[num];

               //Call parseSplitApk on a non-core application
               for (int i = 0; i &lt; num; i++) {
                   parseSplitApk(pkg, i, assets, flags);
               }
           }

           pkg.codePath = packageDir.getAbsolutePath();
           return pkg;
       } finally {
           IoUtils.closeQuietly(assets);
       }
   }<br></div></div>

<p>The parseClusterPackage first calls parseClusterPackageLite to perform a
preliminary analysis of the apk files in the directory, mainly to distinguish
between core applications and non-core applications. There is only one core
application, and non-core applications may or may not have multiple.</p>
<p>ParseBaseApk is called for the core application, parseSplitApk is called for the
non-core application, and the parsed result is stored in the same
PackageParser.Package object.</p>
<p>Timing diagram:</p>
<p>     <a href="media/6c40fdcbd75ff6f8fa33f25d3e699484.jpg" rel="grouped" title="http://7xj6ce.com1.z0.glb.clouddn.com/PMS-3.png" target="_self" class="fancybox">
       <img src="media/6c40fdcbd75ff6f8fa33f25d3e699484.jpg" alt="http://7xj6ce.com1.z0.glb.clouddn.com/PMS-3.png">
     </a></p>
<h2 id="scanpackagedirtyli-method"><a name="scanpackagedirtyli-method" class="anchor-navigation-ex-anchor" href="#scanpackagedirtyli-method"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. scanPackageDirtyLI method</h2>
<p>The scanPackageLI method of the previous analysis also calls the same
scanPackageLI method with different parameters.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">private PackageParser.Package scanPackageLI(PackageParser.Package pkg, int parseFlags,
        int scanFlags, long currentTime, UserHandle user) throws PackageManagerException {
    boolean success = false;
    try {
        final PackageParser.Package res = scanPackageDirtyLI(pkg, parseFlags, scanFlags,
                currentTime, user);
        success = true;
        return res;
    } finally {
        if (!success &amp;&amp; (scanFlags &amp; SCAN_DELETE_DATA_ON_FAILURES) != 0) {
            removeDataDirsLI(pkg.volumeUuid, pkg.packageName);
        }
    }
}<br></div></div>

<p>The method internally calls scanPackageDirtyLI to do the corresponding work. The
scanPackageLI method can also be called separately. We only care about the logic
when it is called by the previous scanPackageLI method.</p>
<p>There is such a scene in the Android system. When an intent is issued, if there
are multiple responding activities in the dialog box, Android will pop up a
dialog box for the user to select. A typical example is when you install
multiple software files that can be opened in the device. When you open the
word, if you have not set the default software, then a dialog box will pop up,
let the user choose which app to use. Open the word file. This dialog is called
ResolverActivity. So the dialog is an object that exists inside the system and
it is stored in the mResolveActivity variable of the PMS.</p>
<p>The code for ResolverActivity is located in framework-res.apk, so when
scanPackageLi scans that the package name of the file is &quot;Android&quot;, it will
extract the ResolverActivity information from the file and create the
mResolveActivity object. If the system specifies an alternate ResolverActivity
by defining the string &quot;config_customResolverActivity&quot;, then after the
alternative package name is found, the mResolveActivity object is created, not
using the ResolverActivity in framework-res.apk.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">private PackageParser.Package scanPackageDirtyLI(PackageParser.Package pkg, int parseFlags,
            int scanFlags, long currentTime, UserHandle user) throws PackageManagerException {

              ...................
              if (mCustomResolverComponentName != null &amp;&amp;
                              mCustomResolverComponentName.getPackageName().equals(pkg.packageName)) {

                          // mResolverReplaced is set to true in this method
                          setUpCustomResolverActivity(pkg);
                      }
              ...................
              if (pkg.packageName.equals(&quot;android&quot;)) {
            synchronized (mPackages) {
                if (mAndroidApplication != null) {
                    Slog.w(TAG, &quot;*************************************************&quot;);
                    Slog.w(TAG, &quot;Core android package being redefined.  Skipping.&quot;);
                    Slog.w(TAG, &quot; file=&quot; + scanFile);
                    Slog.w(TAG, &quot;*************************************************&quot;);
                    throw new PackageManagerException(INSTALL_FAILED_DUPLICATE_PACKAGE,
                            &quot;Core android package being redefined.  Skipping.&quot;);
                }

                // Set up information for our fall-back user intent resolution activity.
                mPlatformPackage = pkg;
                pkg.mVersionCode = mSdkVersion;
                mAndroidApplication = pkg.applicationInfo;


                if (!mResolverReplaced) {
                    mResolveActivity.applicationInfo = mAndroidApplication;
                    mResolveActivity.name = ResolverActivity.class.getName();
                    mResolveActivity.packageName = mAndroidApplication.packageName;
                    mResolveActivity.processName = &quot;system:ui&quot;;
                    mResolveActivity.launchMode = ActivityInfo.LAUNCH_MULTIPLE;
                    mResolveActivity.documentLaunchMode = ActivityInfo.DOCUMENT_LAUNCH_NEVER;
                    mResolveActivity.flags = ActivityInfo.FLAG_EXCLUDE_FROM_RECENTS;
                    mResolveActivity.theme = R.style.Theme_Holo_Dialog_Alert;
                    mResolveActivity.exported = true;
                    mResolveActivity.enabled = true;
                    mResolveInfo.activityInfo = mResolveActivity;
                    mResolveInfo.priority = 0;
                    mResolveInfo.preferredOrder = 0;
                    mResolveInfo.match = 0;
                    mResolveComponentName = new ComponentName(
                            mAndroidApplication.packageName, mResolveActivity.name);
                }
            }
        }
        .....................
}<br></div></div>

<p>An app with the same name may have been scanned and installed in another
directory, so an exception is thrown.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">if (mPackages.containsKey(pkg.packageName)
             || mSharedLibraries.containsKey(pkg.packageName)) {
         throw new PackageManagerException(INSTALL_FAILED_DUPLICATE_PACKAGE,
                 &quot;Application package &quot; + pkg.packageName
                 + &quot; already installed.  Skipping duplicate.&quot;);
     }<br></div></div>

<p>The next code doesn&apos;t stick too much, and I have to say what the rest of the
code does.</p>
<p>If there is a scanning applicationLabels, and upgrade packages add the package&apos;s
Sydney West to mSeetings&apos; mRenamedPackages variable, which is also stored in
packages.xmlUnder the label.</p>
<p>Verify the signature again and check if the app signature of the shared UID is
consistent. Inconsistent reports an error.</p>
<p>Use fixProcessName() to modify the process name of the app in the future. It can
be read by /proc/self/cmdline in the future.</p>
<p>If the application&apos;s sandbox directory already exists, check for errors, such as
whether the uids are consistent, etc. If an error is found, delete the data
directory and re-establish it.</p>
<p>To install the dynamics in the app, here are the differences between the system
app and the third-party app. The so library of the system app is usually placed
under /system/lib. In addition, there will be a connection file in the directory
of the system app pointing to the so library under /system/lib, which causes the
system app to determine the abi used by the so library by analyzing the
directory file. The third-party app can be used by armeabi, armeabi. The
directory name such as -v7a determines its abi. For third-party apps, their so
libraries will be placed</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;java&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">/data/app/&lt;package name&gt;/lib/(arm/arm64/x86)/<br></div></div>

<p>Then create a lib connection file in the sandbox directory, pointing to the
above directory.</p>
<p>If it detects that the dynamic library file that the application depends on has
changed, call performDexOpt to re-execute.</p>
<p>Finally, the Activity, Service, Provider, receiver, permission, Permission Group
and other information in the app are extracted and put into the PMS related
member variables.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Android PMS - Android 6 PMS analysis article 1.html" class="navigation navigation-prev " aria-label="Previous page: Android PMS - Android 6 PMS analysis article 1">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Android PMS - Android 6 PMS analysis of the next article.html" class="navigation navigation-next " aria-label="Next page: Android PMS - Android 6 PMS analysis of the next article">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Android PMS - Android 6 PMS analysis article 2","level":"1.5.5","depth":2,"next":{"title":"Android PMS - Android 6 PMS analysis of the next article","level":"1.5.6","depth":2,"path":"Android PMS - Android 6 PMS analysis of the next article.md","ref":"Android PMS - Android 6 PMS analysis of the next article.md","articles":[]},"previous":{"title":"Android PMS - Android 6 PMS analysis article 1","level":"1.5.4","depth":2,"path":"Android PMS - Android 6 PMS analysis article 1.md","ref":"Android PMS - Android 6 PMS analysis article 1.md","articles":[]},"dir":"ltr"},"config":{"plugins":["include-html","fancybox","anchor-navigation-ex-toc","ace","-lunr","-search","search-plus","hide-published-with","splitter","expandable-chapters-interactive","wide-page"],"root":"./docs","styles":{"website":"styles/website.css"},"pluginsConfig":{"fancybox":{"helpers":{"buttons":{}}},"ace":{},"splitter":{},"wide-page":{},"anchor-navigation-ex-toc":{"showLevel":true,"associatedWithSummary":true,"mode":"float","printLog":false,"multipleH1":true,"float":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""},"pageTop":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""}},"hide-published-with":{},"include-html":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"expandable-chapters-interactive":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{},"search-plus":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"Android PMS - Android 6 PMS analysis article 2.md","mtime":"2018-09-20T09:22:24.795Z","type":"markdown"},"gitbook":{"version":"3.3.6","time":"2023-12-10T09:35:29.798Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.mousewheel.pack.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.fancybox.pack.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.js"></script>
        
    
        
        <script src="gitbook/@gitbook-ng/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

