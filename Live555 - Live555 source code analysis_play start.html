
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Live555 - Live555 source code analysis_play start Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="@gitbook-ng/gitbook 3.3.6">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fancybox/jquery.fancybox.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-anchor-navigation-ex-toc/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-wide-page/wide.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="Live555 - Live555 source code analysis_Subsession SETUP.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Graphical Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="Graphical Android - Zygote, System Server startup analysis.html">
            
                <a href="Graphical Android - Zygote, System Server startup analysis.html">
            
                    
                    Graphical Android - Zygote, System Server startup analysis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Android Permissions
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="Android Permissions - Android Runtime Permission.html">
            
                <a href="Android Permissions - Android Runtime Permission.html">
            
                    
                    Android Permissions - Android Runtime Permission
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="Android Permissions - Android grantRuntimePermission Detailed.html">
            
                <a href="Android Permissions - Android grantRuntimePermission Detailed.html">
            
                    
                    Android Permissions - Android grantRuntimePermission Detailed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="Android Permissions - Android GrantPermissionsActivity Detailed.html">
            
                <a href="Android Permissions - Android GrantPermissionsActivity Detailed.html">
            
                    
                    Android Permissions - Android GrantPermissionsActivity Detailed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="Android Permissions - AppOps control for Normal permission.html">
            
                <a href="Android Permissions - AppOps control for Normal permission.html">
            
                    
                    Android Permissions - AppOps control for Normal permission
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="Android Permissions - Android native permission control process.html">
            
                <a href="Android Permissions - Android native permission control process.html">
            
                    
                    Android Permissions - Android native permission control process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="Android Permissions - The difference between setUidMode and setMode in AppOps.html">
            
                <a href="Android Permissions - The difference between setUidMode and setMode in AppOps.html">
            
                    
                    Android Permissions - The difference between setUidMode and setMode in AppOps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="Android Permissions - Application permissions before android M and application permissions after M.html">
            
                <a href="Android Permissions - Application permissions before android M and application permissions after M.html">
            
                    
                    Android Permissions - Application permissions before android M and application permissions after M
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="Android Permissions - Provider permissions detailed.html">
            
                <a href="Android Permissions - Provider permissions detailed.html">
            
                    
                    Android Permissions - Provider permissions detailed
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Android OTA
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="Android OTA - Android OTA upgrade principle and process analysis 1.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 1.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="Android OTA - Android OTA upgrade principle and process analysis 2.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 2.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="Android OTA - Android OTA upgrade principle and process analysis 3.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 3.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="Android OTA - Android OTA upgrade principle and process analysis 4.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 4.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="Android OTA - Android OTA upgrade principle and process analysis 5.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 5.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="Android OTA - Android OTA upgrade principle and process analysis 6.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 6.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="Android OTA - Android OTA upgrade principle and process analysis 7.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 7.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 7
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="Android OTA - Android OTA upgrade principle and process analysis 8.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 8.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 8
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="Android OTA - Android OTA upgrade principle and process analysis 9.html">
            
                <a href="Android OTA - Android OTA upgrade principle and process analysis 9.html">
            
                    
                    Android OTA - Android OTA upgrade principle and process analysis 9
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Android Package Manager Service (PMS)
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="Android PMS - Explore the Android PMS service.html">
            
                <a href="Android PMS - Explore the Android PMS service.html">
            
                    
                    Android PMS - Explore the Android PMS service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="Android PMS - Some rules of the PMS runtime.html">
            
                <a href="Android PMS - Some rules of the PMS runtime.html">
            
                    
                    Android PMS - Some rules of the PMS runtime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="Android PMS - Android 6 PMS Analysis.html">
            
                <a href="Android PMS - Android 6 PMS Analysis.html">
            
                    
                    Android PMS - Android 6 PMS Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="Android PMS - Android 6 PMS analysis article 1.html">
            
                <a href="Android PMS - Android 6 PMS analysis article 1.html">
            
                    
                    Android PMS - Android 6 PMS analysis article 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="Android PMS - Android 6 PMS analysis article 2.html">
            
                <a href="Android PMS - Android 6 PMS analysis article 2.html">
            
                    
                    Android PMS - Android 6 PMS analysis article 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="Android PMS - Android 6 PMS analysis of the next article.html">
            
                <a href="Android PMS - Android 6 PMS analysis of the next article.html">
            
                    
                    Android PMS - Android 6 PMS analysis of the next article
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="Android PMS - Android 6 PMS install APK prelude.html">
            
                <a href="Android PMS - Android 6 PMS install APK prelude.html">
            
                    
                    Android PMS - Android 6 PMS install APK prelude
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="Android PMS - Android 6 PMS installation APK.html">
            
                <a href="Android PMS - Android 6 PMS installation APK.html">
            
                    
                    Android PMS - Android 6 PMS installation APK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="Android PMS - Android 6 PMS installation APK next article.html">
            
                <a href="Android PMS - Android 6 PMS installation APK next article.html">
            
                    
                    Android PMS - Android 6 PMS installation APK next article
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="Android PMS - Android 6 PMS Uninstall APK.html">
            
                <a href="Android PMS - Android 6 PMS Uninstall APK.html">
            
                    
                    Android PMS - Android 6 PMS Uninstall APK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="Android PMS - Android 6 PMS daemon installd.html">
            
                <a href="Android PMS - Android 6 PMS daemon installd.html">
            
                    
                    Android PMS - Android 6 PMS daemon installd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Android AOSP
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Android AOSP - Debugging AOSP Platform code with Android Studio - Java Debugger.html">
            
                <a href="Android AOSP - Debugging AOSP Platform code with Android Studio - Java Debugger.html">
            
                    
                    Android AOSP - Debugging AOSP Platform code with Android Studio - Java Debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Android AOSP - Modify applications and rebuild emulator image effectively.html">
            
                <a href="Android AOSP - Modify applications and rebuild emulator image effectively.html">
            
                    
                    Android AOSP - Modify applications and rebuild emulator image effectively
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Android General
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Android General - Reliable connection to AIDL IPC Service in Android.html">
            
                <a href="Android General - Reliable connection to AIDL IPC Service in Android.html">
            
                    
                    Android General - Reliable connection to AIDL IPC Service in Android
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Android Binder
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Android Activity Manager Service (AMS)
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Live555
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Live555 - Live555 source code analysis_introduction.html">
            
                <a href="Live555 - Live555 source code analysis_introduction.html">
            
                    
                    Live555 - Live555 source code analysis_introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Live555 - Live555 source code analysis_infrastructure.html">
            
                <a href="Live555 - Live555 source code analysis_infrastructure.html">
            
                    
                    Live555 - Live555 source code analysis_infrastructure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="Live555 - Live555 source code analysis_mediaserver.html">
            
                <a href="Live555 - Live555 source code analysis_mediaserver.html">
            
                    
                    Live555 - Live555 source code analysis_mediaserver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Live555 - Wireshark capture packet analysis RTSP_RTP_RTCP basic working process.html">
            
                <a href="Live555 - Wireshark capture packet analysis RTSP_RTP_RTCP basic working process.html">
            
                    
                    Live555 - Wireshark capture packet analysis RTSP_RTP_RTCP basic working process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="Live555 - Live555 source code analysis_rtspserver.html">
            
                <a href="Live555 - Live555 source code analysis_rtspserver.html">
            
                    
                    Live555 - Live555 source code analysis_rtspserver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="Live555 - Live555 source code analysis_describe processing.html">
            
                <a href="Live555 - Live555 source code analysis_describe processing.html">
            
                    
                    Live555 - Live555 source code analysis_describe processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="Live555 - Live555 source code analysis_setup processing.html">
            
                <a href="Live555 - Live555 source code analysis_setup processing.html">
            
                    
                    Live555 - Live555 source code analysis_setup processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="Live555 - Live555 source code analysis_play processing.html">
            
                <a href="Live555 - Live555 source code analysis_play processing.html">
            
                    
                    Live555 - Live555 source code analysis_play processing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="Live555 - Live555 source code analysis_RTSPServer component structure.html">
            
                <a href="Live555 - Live555 source code analysis_RTSPServer component structure.html">
            
                    
                    Live555 - Live555 source code analysis_RTSPServer component structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" data-path="Live555 - Live555 source code analysis_servermediasession.html">
            
                <a href="Live555 - Live555 source code analysis_servermediasession.html">
            
                    
                    Live555 - Live555 source code analysis_servermediasession
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" data-path="Live555 - Live555 source code analysis_subsession SDP line generation.html">
            
                <a href="Live555 - Live555 source code analysis_subsession SDP line generation.html">
            
                    
                    Live555 - Live555 source code analysis_subsession SDP line generation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.12" data-path="Live555 - Live555 source code analysis_Subsession SETUP.html">
            
                <a href="Live555 - Live555 source code analysis_Subsession SETUP.html">
            
                    
                    Live555 - Live555 source code analysis_Subsession SETUP
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.13" data-path="Live555 - Live555 source code analysis_play start.html">
            
                <a href="Live555 - Live555 source code analysis_play start.html">
            
                    
                    Live555 - Live555 source code analysis_play start
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Flutter
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="Flutter Framework Analysis 1 - Overview and Window.html">
            
                <a href="Flutter Framework Analysis 1 - Overview and Window.html">
            
                    
                    Flutter Framework Analysis 1 - Overview and Window
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="Flutter Framework Analysis 2 - Initialization.html">
            
                <a href="Flutter Framework Analysis 2 - Initialization.html">
            
                    
                    Flutter Framework Analysis 2 - Initialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="Flutter Framework Analysis 3 - Widget, Element and RenderObject.html">
            
                <a href="Flutter Framework Analysis 3 - Widget, Element and RenderObject.html">
            
                    
                    Flutter Framework Analysis 3 - Widget, Element and RenderObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="Flutter Framework Analysis 4 - Flutter Framework Operation.html">
            
                <a href="Flutter Framework Analysis 4 - Flutter Framework Operation.html">
            
                    
                    Flutter Framework Analysis 4 - Flutter Framework Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="Flutter Framework Analysis 5 - Animation.html">
            
                <a href="Flutter Framework Analysis 5 - Animation.html">
            
                    
                    Flutter Framework Analysis 5 - Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="Flutter Framework Analysis 6 - Layout.html">
            
                <a href="Flutter Framework Analysis 6 - Layout.html">
            
                    
                    Flutter Framework Analysis 6 - Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="Flutter Framework Analysis 7 - Drawing.html">
            
                <a href="Flutter Framework Analysis 7 - Drawing.html">
            
                    
                    Flutter Framework Analysis 7 - Drawing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Live555 - Live555 source code analysis_play start</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><span class="title-icon "></span><a href="#live555-source-code-analysis-play-start"><b>1. </b>Live555 source code analysis: play start</a></li><ul><li><span class="title-icon "></span><a href="#rtp-packet-transmission"><b>1.1. </b>RTP packet transmission</a></li><li><span class="title-icon "></span><a href="#rtcp-packet-reception"><b>1.2. </b>RTCP packet reception</a></li><li><span class="title-icon "></span><a href="#rtcp-packet-transmission"><b>1.3. </b>RTCP packet transmission</a></li><li><span class="title-icon "></span><a href="#live555-source-code-analysis-series"><b>1.4. </b>Live555 source code analysis series</a></li></ul></ul></div><a href="#live555-source-code-analysis-play-start" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="live555-source-code-analysis-play-start"><a name="live555-source-code-analysis-play-start" class="anchor-navigation-ex-anchor" href="#live555-source-code-analysis-play-start"><i class="fa fa-link" aria-hidden="true"></i></a>1. Live555 source code analysis: play start</h1>
<p> Posted on 2017-09-08 |  In <a href="https://www.wolfcstech.com/categories/live555/" target="_blank">live555</a></p>
<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:0 orderedList:0 -->
<ul>
<li><a href="#live555-source-code-analysis-play-start"><strong>Live555 source code analysis: play start</strong></a><ul>
<li><a href="#rtp-packet-transmission"><strong>RTP packet transmission</strong></a></li>
<li><a href="#rtcp-packet-reception"><strong>RTCP packet reception</strong></a></li>
<li><a href="#rtcp-packet-transmission"><strong>RTCP packet transmission</strong></a></li>
<li><a href="#live555-source-code-analysis-series"><strong>Live555 source code analysis series</strong></a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<p>This article analyzes the process of streaming media playback in live555 and
data transmission through RTP/RTCP.</p>
<p>As we <a href="http://www.jianshu.com/p/5b15810b7577" target="_blank">live555 source code analysis: sub-session SETUP</a> seen, play a streaming media sub-session start from <code>StreamState::startPlaying</code> complete:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void OnDemandServerMediaSubsession::startStream(unsigned clientSessionId,
    void* streamToken,
    TaskFunc* rtcpRRHandler,
    void* rtcpRRHandlerClientData,
    unsigned short&amp; rtpSeqNum,
    unsigned&amp; rtpTimestamp,
    ServerRequestAlternativeByteHandler* serverRequestAlternativeByteHandler,
    void* serverRequestAlternativeByteHandlerClientData) {
  StreamState* streamState = (StreamState*)streamToken;
  Destinations* destinations
    = (Destinations*)(fDestinationsHashTable-&gt;Lookup((char const*)clientSessionId));
  if (streamState != NULL) {
    streamState-&gt;startPlaying(destinations, clientSessionId,
        rtcpRRHandler, rtcpRRHandlerClientData,
        serverRequestAlternativeByteHandler, serverRequestAlternativeByteHandlerClientData);
    RTPSink* rtpSink = streamState-&gt;rtpSink(); // alias
    if (rtpSink != NULL) {
      rtpSeqNum = rtpSink-&gt;currentSeqNo();
      rtpTimestamp = rtpSink-&gt;presetNextTimestamp();
    }
  }
}<br></div></div>s

In this function, first find the destination address of the sub-session, i.e.
the client&apos;s IP address, and a port number of the received RTP / RTCP, and
then `StreamState::startPlaying()` start playing, the initial sequence number of
the last RTP packet and the time stamp is returned to the initial The caller,
that is `RTSPServer`, and the latter, is returned to the client for playback
synchronization of the client.

`StreamState::startPlaying()` The implementation is like this:

<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void StreamState
::startPlaying(Destinations* dests, unsigned clientSessionId,
    TaskFunc* rtcpRRHandler, void* rtcpRRHandlerClientData,
    ServerRequestAlternativeByteHandler* serverRequestAlternativeByteHandler,
    void* serverRequestAlternativeByteHandlerClientData) {
  if (dests == NULL) return;
  if (fRTCPInstance == NULL &amp;&amp; fRTPSink != NULL) {
    // Create (and start) a &apos;RTCP instance&apos; for this RTP sink:
    fRTCPInstance = fMaster.createRTCP(fRTCPgs, fTotalBW, (unsigned char*)fMaster.fCNAME, fRTPSink);
        // Note: This starts RTCP running automatically
    fRTCPInstance-&gt;setAppHandler(fMaster.fAppHandlerTask, fMaster.fAppHandlerClientData);
  }
  if (dests-&gt;isTCP) {
    // Change RTP and RTCP to use the TCP socket instead of UDP:
    if (fRTPSink != NULL) {
      fRTPSink-&gt;addStreamSocket(dests-&gt;tcpSocketNum, dests-&gt;rtpChannelId);
      RTPInterface::setServerRequestAlternativeByteHandler(fRTPSink-&gt;envir(), dests-&gt;tcpSocketNum,
        serverRequestAlternativeByteHandler, serverRequestAlternativeByteHandlerClientData);
        // So that we continue to handle RTSP commands from the client
    }
    if (fRTCPInstance != NULL) {
      fRTCPInstance-&gt;addStreamSocket(dests-&gt;tcpSocketNum, dests-&gt;rtcpChannelId);
      fRTCPInstance-&gt;setSpecificRRHandler(dests-&gt;tcpSocketNum, dests-&gt;rtcpChannelId,
          rtcpRRHandler, rtcpRRHandlerClientData);
    }
  } else {
    // Tell the RTP and RTCP &apos;groupsocks&apos; about this destination
    // (in case they don&apos;t already have it):
    if (fRTPgs != NULL) fRTPgs-&gt;addDestination(dests-&gt;addr, dests-&gt;rtpPort, clientSessionId);
    if (fRTCPgs != NULL &amp;&amp; !(fRTCPgs == fRTPgs &amp;&amp; dests-&gt;rtcpPort.num() == dests-&gt;rtpPort.num())) {
      fRTCPgs-&gt;addDestination(dests-&gt;addr, dests-&gt;rtcpPort, clientSessionId);
    }
    if (fRTCPInstance != NULL) {
      fRTCPInstance-&gt;setSpecificRRHandler(dests-&gt;addr.s_addr, dests-&gt;rtcpPort,
          rtcpRRHandler, rtcpRRHandlerClientData);
    }
  }
  if (fRTCPInstance != NULL) {
    // Hack: Send an initial RTCP &quot;SR&quot; packet, before the initial RTP packet, so that receivers will (likely) be able to
    // get RTCP-synchronized presentation times immediately:
    fRTCPInstance-&gt;sendReport();
  }
  if (!fAreCurrentlyPlaying &amp;&amp; fMediaSource != NULL) {
    if (fRTPSink != NULL) {
      fRTPSink-&gt;startPlaying(*fMediaSource, afterPlayingStreamState, this);
      fAreCurrentlyPlaying = True;
    } else if (fUDPSink != NULL) {
      fUDPSink-&gt;startPlaying(*fMediaSource, afterPlayingStreamState, this);
      fAreCurrentlyPlaying = True;
    }
  }
}<br></div></div>

<p>In this function, first create it when <code>RTCPInstance</code> has not been created yet:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">RTCPInstance* OnDemandServerMediaSubsession
::createRTCP(Groupsock* RTCPgs, unsigned totSessionBW, /* in kbps */
    unsigned char const* cname, RTPSink* sink) {
  // Default implementation; may be redefined by subclasses:
  return RTCPInstance::createNew(envir(), RTCPgs, totSessionBW, cname, sink, NULL/*we&apos;re a server*/);
}<br></div></div>

<p>Ignore the RTP/RTCP packet to go to TCP. Then <code>StreamState::startPlaying()</code> do the
right RTP and RTCP of groupsock some settings, add the destination address is a
them and did some set RTCPInstance:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">} else {
  // Tell the RTP and RTCP &apos;groupsocks&apos; about this destination
  // (in case they don&apos;t already have it):
  if (fRTPgs != NULL) fRTPgs-&gt;addDestination(dests-&gt;addr, dests-&gt;rtpPort, clientSessionId);
  if (fRTCPgs != NULL &amp;&amp; !(fRTCPgs == fRTPgs &amp;&amp; dests-&gt;rtcpPort.num() == dests-&gt;rtpPort.num())) {
    fRTCPgs-&gt;addDestination(dests-&gt;addr, dests-&gt;rtcpPort, clientSessionId);
  }
  if (fRTCPInstance != NULL) {
    fRTCPInstance-&gt;setSpecificRRHandler(dests-&gt;addr.s_addr, dests-&gt;rtcpPort,
        rtcpRRHandler, rtcpRRHandlerClientData);
  }
}<br></div></div>

<p>After <code>StreamState::startPlaying()</code> issuing a RTCP packet.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">if (fRTCPInstance != NULL) {
  // Hack: Send an initial RTCP &quot;SR&quot; packet, before the initial RTP packet, so that receivers will (likely) be able to
  // get RTCP-synchronized presentation times immediately:
  fRTCPInstance-&gt;sendReport();
}<br></div></div>

<p><code>fUDPSink</code> For the case where the streaming mode is RAW UDP, the case of this
streaming mode is ignored. Finally executed <code>MediaSink::startPlaying()</code> and set the
flag <code>fAreCurrentlyPlaying</code> to indicate that streaming playback has started.</p>
<h2 id="rtp-packet-transmission"><a name="rtp-packet-transmission" class="anchor-navigation-ex-anchor" href="#rtp-packet-transmission"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. RTP packet transmission</h2>
<p>Let&apos;s look at how the RTP package is sent out. <code>MediaSink::startPlaying()</code> The
function is defined as follows:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">Boolean MediaSink::startPlaying(MediaSource&amp; source,
    afterPlayingFunc* afterFunc,
    void* afterClientData) {
  // Make sure we&apos;re not already being played:
  if (fSource != NULL) {
    envir().setResultMsg(&quot;This sink is already being played&quot;);
    return False;
  }
  // Make sure our source is compatible:
  if (!sourceIsCompatibleWithUs(source)) {
    envir().setResultMsg(&quot;MediaSink::startPlaying(): source is not compatible!&quot;);
    return False;
  }
  fSource = (FramedSource*)&amp;source;
  fAfterFunc = afterFunc;
  fAfterClientData = afterClientData;
  return continuePlaying();
}<br></div></div>

<p>In this function, the stored passed callback parameters and callback, then
execution <code>continuePlaying()</code>, <code>continuePlaying()</code> is a pure virtual function, which
is implemented by the <code>MediaSink</code> subclasses <code>H264or5VideoRTPSink</code> to achieve:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">Boolean H264or5VideoRTPSink::continuePlaying() {
  // First, check whether we have a &apos;fragmenter&apos; class set up yet.
  // If not, create it now:
  if (fOurFragmenter == NULL) {
    fOurFragmenter = new H264or5Fragmenter(fHNumber, envir(), fSource, OutPacketBuffer::maxSize,
        ourMaxPacketSize() - 12/*RTP hdr size*/);
  } else {
    fOurFragmenter-&gt;reassignInputSource(fSource);
  }
  fSource = fOurFragmenter;
  // Then call the parent class&apos;s implementation:
  return MultiFramedRTPSink::continuePlaying();
}<br></div></div>

<p>In this class, it is primarily <code>H264or5Fragmenter</code> provided streaming media data
source, and <code>fSource</code> set <code>H264or5Fragmenter</code>. Here, <code>MultiFramedRTPSink</code> holding the
streaming data source <code>FramedSource</code> originally in
the <code>H264VideoFileServerMediaSubsession</code> created <code>H264VideoStreamFramer</code> becomes
a <code>H264or5Fragmenter</code>, and <code>H264or5Fragmenter</code> is encapsulated <code>H264VideoStreamFramer</code>.</p>
<p>Then <code>H264or5VideoRTPSink::continuePlaying()</code> perform <code>MultiFramedRTPSink::continuePlaying()</code> further processing.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">Boolean MultiFramedRTPSink::continuePlaying() {
  // Send the first packet.
  // (This will also schedule any future sends.)
  buildAndSendPacket(True);
  return True;
}
. . . . . .
void MultiFramedRTPSink::buildAndSendPacket(Boolean isFirstPacket) {
  nextTask() = NULL;
  fIsFirstPacket = isFirstPacket;
  // Set up the RTP header:
  unsigned rtpHdr = 0x80000000; // RTP version 2; marker (&apos;M&apos;) bit not set (by default; it can be set later)
  rtpHdr |= (fRTPPayloadType&lt;&lt;16);
  rtpHdr |= fSeqNo; // sequence number
  fOutBuf-&gt;enqueueWord(rtpHdr);
  // Note where the RTP timestamp will go.
  // (We can&apos;t fill this in until we start packing payload frames.)
  fTimestampPosition = fOutBuf-&gt;curPacketSize();
  fOutBuf-&gt;skipBytes(4); // leave a hole for the timestamp
  fOutBuf-&gt;enqueueWord(SSRC());
  // Allow for a special, payload-format-specific header following the
  // RTP header:
  fSpecialHeaderPosition = fOutBuf-&gt;curPacketSize();
  fSpecialHeaderSize = specialHeaderSize();
  fOutBuf-&gt;skipBytes(fSpecialHeaderSize);
  // Begin packing as many (complete) frames into the packet as we can:
  fTotalFrameSpecificHeaderSizes = 0;
  fNoFramesLeft = False;
  fNumFramesUsedSoFar = 0;
  packFrame();
}<br></div></div>

<p><code>MultiFramedRTPSink::continuePlaying()</code> Execution <code>MultiFramedRTPSink::buildAndSendPacket()</code>. And <code>MultiFramedRTPSink::buildAndSendPacket()</code> it is in the output buffer constructed RTP header, header fields for which
temporarily can not be accurately obtained with space. Then
called <code>MultiFramedRTPSink::packFrame()</code>.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void MultiFramedRTPSink::packFrame() {
  // Get the next frame.
  // First, skip over the space we&apos;ll use for any frame-specific header:
  fCurFrameSpecificHeaderPosition = fOutBuf-&gt;curPacketSize();
  fCurFrameSpecificHeaderSize = frameSpecificHeaderSize();
  fOutBuf-&gt;skipBytes(fCurFrameSpecificHeaderSize);
  fTotalFrameSpecificHeaderSizes += fCurFrameSpecificHeaderSize;
  // See if we have an overflow frame that was too big for the last pkt
  if (fOutBuf-&gt;haveOverflowData()) {
    // Use this frame before reading a new one from the source
    unsigned frameSize = fOutBuf-&gt;overflowDataSize();
    struct timeval presentationTime = fOutBuf-&gt;overflowPresentationTime();
    unsigned durationInMicroseconds = fOutBuf-&gt;overflowDurationInMicroseconds();
    fOutBuf-&gt;useOverflowData();
    afterGettingFrame1(frameSize, 0, presentationTime, durationInMicroseconds);
  } else {
    // Normal case: we need to read a new frame from the source
    if (fSource == NULL) return;
    fSource-&gt;getNextFrame(fOutBuf-&gt;curPtr(), fOutBuf-&gt;totalBytesAvailable(),
        afterGettingFrame, this, ourHandleClosure, this);
  }
}<br></div></div>

<p><code>MultiFramedRTPSink::packFrame()</code> Of <code>FramedSource</code> the <code>getNextFrame()</code> obtained frame
data, and after obtaining informed frame data.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void FramedSource::getNextFrame(unsigned char* to, unsigned maxSize,
    afterGettingFunc* afterGettingFunc,
    void* afterGettingClientData,
    onCloseFunc* onCloseFunc,
    void* onCloseClientData) {
  // Make sure we&apos;re not already being read:
  if (fIsCurrentlyAwaitingData) {
    envir() &lt;&lt; &quot;FramedSource[&quot; &lt;&lt; this &lt;&lt; &quot;]::getNextFrame(): attempting to read more than once at the same time!\n&quot;;
    envir().internalError();
  }
  fTo = to;
  fMaxSize = maxSize;
  fNumTruncatedBytes = 0; // by default; could be changed by doGetNextFrame()
  fDurationInMicroseconds = 0; // by default; could be changed by doGetNextFrame()
  fAfterGettingFunc = afterGettingFunc;
  fAfterGettingClientData = afterGettingClientData;
  fOnCloseFunc = onCloseFunc;
  fOnCloseClientData = onCloseClientData;
  fIsCurrentlyAwaitingData = True;
  doGetNextFrame();
}<br></div></div>

<p>This function is mainly used to <code>FramedSource</code> set the media stream data to be read
where, how much their own address, and a callback function can be read. And
ultimately perform <code>doGetNextFrame()</code> the read data.</p>
<p>Final data will be <code>ByteStreamFileSource</code> the <code>doGetNextFrame()</code> implementation of
scheduling tasks to read, and read from the file.</p>
<pre><code>#0  ByteStreamFileSource::doGetNextFrame (this=0x6d8f10) at ByteStreamFileSource.cpp:96
#1  0x000000000043004c in FramedSource::getNextFrame (this=0x6d8f10, to=0x6da9c0 &quot;(\243\203\367\377\177&quot;, maxSize=150000,
    afterGettingFunc=0x46f6c8 &lt;StreamParser::afterGettingBytes(void*, unsigned int, unsigned int, timeval, unsigned int)&gt;,
    afterGettingClientData=0x6d91b0, onCloseFunc=0x46f852 &lt;StreamParser::onInputClosure(void*)&gt;, onCloseClientData=0x6d91b0) at FramedSource.cpp:78
-------------------------------------------------------------------------------------------------------------------------------------
#2  0x000000000046f69c in StreamParser::ensureValidBytes1 (this=0x6d91b0, numBytesNeeded=4) at StreamParser.cpp:159
#3  0x00000000004343e5 in StreamParser::ensureValidBytes (this=0x6d91b0, numBytesNeeded=4) at StreamParser.hh:118
#4  0x0000000000434179 in StreamParser::test4Bytes (this=0x6d91b0) at StreamParser.hh:54
#5  0x0000000000471b85 in H264or5VideoStreamParser::parse (this=0x6d91b0) at H264or5VideoStreamFramer.cpp:951
#6  0x000000000043510f in MPEGVideoStreamFramer::continueReadProcessing (this=0x6d9000) at MPEGVideoStreamFramer.cpp:159
#7  0x0000000000435077 in MPEGVideoStreamFramer::doGetNextFrame (this=0x6d9000) at MPEGVideoStreamFramer.cpp:142
#8  0x000000000043004c in FramedSource::getNextFrame (this=0x6d9000, to=0x748d61 &quot;&quot;, maxSize=100000,
    afterGettingFunc=0x474cd2 &lt;H264or5Fragmenter::afterGettingFrame(void*, unsigned int, unsigned int, timeval, unsigned int)&gt;,
    afterGettingClientData=0x700300, onCloseFunc=0x4300c6 &lt;FramedSource::handleClosure(void*)&gt;, onCloseClientData=0x700300) at FramedSource.cpp:78
-------------------------------------------------------------------------------------------------------------------------------------
#9  0x000000000047480a in H264or5Fragmenter::doGetNextFrame (this=0x700300) at H264or5VideoRTPSink.cpp:181
#10 0x000000000043004c in FramedSource::getNextFrame (this=0x700300, to=0x7304ec &quot;&quot;, maxSize=100452,
    afterGettingFunc=0x45af82 &lt;MultiFramedRTPSink::afterGettingFrame(void*, unsigned int, unsigned int, timeval, unsigned int)&gt;,
    afterGettingClientData=0x6d92e0, onCloseFunc=0x45b96c &lt;MultiFramedRTPSink::ourHandleClosure(void*)&gt;, onCloseClientData=0x6d92e0) at FramedSource.cpp:78
-------------------------------------------------------------------------------------------------------------------------------------
#11 0x000000000045af61 in MultiFramedRTPSink::packFrame (this=0x6d92e0) at MultiFramedRTPSink.cpp:224
#12 0x000000000045adae in MultiFramedRTPSink::buildAndSendPacket (this=0x6d92e0, isFirstPacket=1 &apos;\001&apos;) at MultiFramedRTPSink.cpp:199
#13 0x000000000045abed in MultiFramedRTPSink::continuePlaying (this=0x6d92e0) at MultiFramedRTPSink.cpp:159
-------------------------------------------------------------------------------------------------------------------------------------
#14 0x000000000047452a in H264or5VideoRTPSink::continuePlaying (this=0x6d92e0) at H264or5VideoRTPSink.cpp:127
#15 0x0000000000405d2a in MediaSink::startPlaying (this=0x6d92e0, source=..., afterFunc=0x4621f4 &lt;afterPlayingStreamState(void*)&gt;,
    afterClientData=0x6d95b0) at MediaSink.cpp:78
#16 0x00000000004626ea in StreamState::startPlaying (this=0x6d95b0, dests=0x6d9620, clientSessionId=1584618840,
    rtcpRRHandler=0x407280 &lt;GenericMediaServer::ClientSession::noteClientLiveness(GenericMediaServer::ClientSession*)&gt;, rtcpRRHandlerClientData=0x70ba40,
    serverRequestAlternativeByteHandler=0x4093a6 &lt;RTSPServer::RTSPClientConnection::handleAlternativeRequestByte(void*, unsigned char)&gt;,
    serverRequestAlternativeByteHandlerClientData=0x6ce910) at OnDemandServerMediaSubsession.cpp:576
#17 0x000000000046138d in OnDemandServerMediaSubsession::startStream (this=0x6d8710, clientSessionId=1584618840, streamToken=0x6d95b0,
    rtcpRRHandler=0x407280 &lt;GenericMediaServer::ClientSession::noteClientLiveness(GenericMediaServer::ClientSession*)&gt;, rtcpRRHandlerClientData=0x70ba40,
    rtpSeqNum=@0x7fffffffcd76: 0, rtpTimestamp=@0x7fffffffcdc0: 0,
    serverRequestAlternativeByteHandler=0x4093a6 &lt;RTSPServer::RTSPClientConnection::handleAlternativeRequestByte(void*, unsigned char)&gt;,
    serverRequestAlternativeByteHandlerClientData=0x6ce910) at OnDemandServerMediaSubsession.cpp:223
</code></pre><p>This call stack is deep. It may seem confusing. Live555 actually employed
decorator pattern design <code>FramedSource</code>, a <code>FramedSource</code> may be packaged
another <code>FramedSource</code>, and provide some additional features, or to optimize
performance, or for data analysis or the like.</p>
<p>live555 in many <code>FramedSource</code> relationships between classes probably as follows:</p>
<p>     <a href="media/8cc8cad711e67d2b85a45cccb87a1759.png" rel="grouped" title="https://www.wolfcstech.com/images/1315506-0b28491d52695852.png" target="_self" class="fancybox">
       <img src="media/8cc8cad711e67d2b85a45cccb87a1759.png" alt="https://www.wolfcstech.com/images/1315506-0b28491d52695852.png">
     </a></p>
<p>Above the call stack, mainly based on <code>FramedSource</code> packaging relationship,
divided by a dotted line into several different stages.</p>
<p>In <code>ByteStreamFileSource</code> the <code>doGetNextFrame()</code> middle, task scheduling reads:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void ByteStreamFileSource::doGetNextFrame() {
  if (feof(fFid) || ferror(fFid) || (fLimitNumBytesToStream &amp;&amp; fNumBytesToStream == 0)) {
    handleClosure();
    return;
  }
#ifdef READ_FROM_FILES_SYNCHRONOUSLY
  doReadFromFile();
#else
  if (!fHaveStartedReading) {
    // Await readable data from the file:
    envir().taskScheduler().turnOnBackgroundReadHandling(fileno(fFid),
           (TaskScheduler::BackgroundHandlerProc*)&amp;fileReadableHandler, this);
    fHaveStartedReading = True;
  }
#endif
}<br></div></div>

<p><code>ByteStreamFileSource::fileReadableHandler()</code> Read the streaming content and
notify the caller:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void FramedSource::afterGetting(FramedSource* source) {
  source-&gt;nextTask() = NULL;
  source-&gt;fIsCurrentlyAwaitingData = False;
  // indicates that we can be read again
  // Note that this needs to be done here, in case the &quot;fAfterFunc&quot;
  // called below tries to read another frame (which it usually will)
  if (source-&gt;fAfterGettingFunc != NULL) {
    (*(source-&gt;fAfterGettingFunc))(source-&gt;fAfterGettingClientData,
        source-&gt;fFrameSize, source-&gt;fNumTruncatedBytes,
        source-&gt;fPresentationTime,
        source-&gt;fDurationInMicroseconds);
  }
}
. . . . . .
void ByteStreamFileSource::fileReadableHandler(ByteStreamFileSource* source, int /*mask*/) {
  if (!source-&gt;isCurrentlyAwaitingData()) {
    source-&gt;doStopGettingFrames(); // we&apos;re not ready for the data yet
    return;
  }
  source-&gt;doReadFromFile();
}
void ByteStreamFileSource::doReadFromFile() {
  // Try to read as many bytes as will fit in the buffer provided (or &quot;fPreferredFrameSize&quot; if less)
  if (fLimitNumBytesToStream &amp;&amp; fNumBytesToStream &lt; (u_int64_t)fMaxSize) {
    fMaxSize = (unsigned)fNumBytesToStream;
  }
  if (fPreferredFrameSize &gt; 0 &amp;&amp; fPreferredFrameSize &lt; fMaxSize) {
    fMaxSize = fPreferredFrameSize;
  }
#ifdef READ_FROM_FILES_SYNCHRONOUSLY
  fFrameSize = fread(fTo, 1, fMaxSize, fFid);
#else
  if (fFidIsSeekable) {
    fFrameSize = fread(fTo, 1, fMaxSize, fFid);
  } else {
    // For non-seekable files (e.g., pipes), call &quot;read()&quot; rather than &quot;fread()&quot;, to ensure that the read doesn&apos;t block:
    fFrameSize = read(fileno(fFid), fTo, fMaxSize);
  }
#endif
  if (fFrameSize == 0) {
    handleClosure();
    return;
  }
  fNumBytesToStream -= fFrameSize;
  // Set the &apos;presentation time&apos;:
  if (fPlayTimePerFrame &gt; 0 &amp;&amp; fPreferredFrameSize &gt; 0) {
    if (fPresentationTime.tv_sec == 0 &amp;&amp; fPresentationTime.tv_usec == 0) {
      // This is the first frame, so use the current time:
      gettimeofday(&amp;fPresentationTime, NULL);
    } else {
      // Increment by the play time of the previous data:
      unsigned uSeconds    = fPresentationTime.tv_usec + fLastPlayTime;
      fPresentationTime.tv_sec += uSeconds/1000000;
      fPresentationTime.tv_usec = uSeconds%1000000;
    }
    // Remember the play time of this data:
    fLastPlayTime = (fPlayTimePerFrame*fFrameSize)/fPreferredFrameSize;
    fDurationInMicroseconds = fLastPlayTime;
  } else {
    // We don&apos;t know a specific play time duration for this data,
    // so just record the current time as being the &apos;presentation time&apos;:
    gettimeofday(&amp;fPresentationTime, NULL);
  }
  // Inform the reader that he has data:
#ifdef READ_FROM_FILES_SYNCHRONOUSLY
  // To avoid possible infinite recursion, we need to return to the event loop to do this:
  nextTask() = envir().taskScheduler().scheduleDelayedTask(0,
                (TaskFunc*)FramedSource::afterGetting, this);
#else
  // Because the file read was done from the event loop, we can call the
  // &apos;after getting&apos; function directly, without risk of infinite recursion:
  FramedSource::afterGetting(this);
#endif
}<br></div></div>

<p>After the data is read, you <code>MultiFramedRTPSink</code> will be notified:</p>
<pre><code>#0  MultiFramedRTPSink::afterGettingFrame (clientData=0x6d92e0, numBytesRead=18, numTruncatedBytes=0, presentationTime=...,
    durationInMicroseconds=0) at MultiFramedRTPSink.cpp:233
---------------------------------------------------------------------------------------------------------------------------
#1  0x00000000004300c2 in FramedSource::afterGetting (source=0x7002c0) at FramedSource.cpp:92
#2  0x0000000000474ca6 in H264or5Fragmenter::doGetNextFrame (this=0x7002c0) at H264or5VideoRTPSink.cpp:263
#3  0x0000000000474dac in H264or5Fragmenter::afterGettingFrame1 (this=0x7002c0, frameSize=18, numTruncatedBytes=0, presentationTime=...,
    durationInMicroseconds=0) at H264or5VideoRTPSink.cpp:292
#4  0x0000000000474d25 in H264or5Fragmenter::afterGettingFrame (clientData=0x7002c0, frameSize=18, numTruncatedBytes=0, presentationTime=...,
    durationInMicroseconds=0) at H264or5VideoRTPSink.cpp:279
---------------------------------------------------------------------------------------------------------------------------
#5  0x00000000004300c2 in FramedSource::afterGetting (source=0x6d9000) at FramedSource.cpp:92
#6  0x00000000004351ea in MPEGVideoStreamFramer::continueReadProcessing (this=0x6d9000) at MPEGVideoStreamFramer.cpp:179
#7  0x00000000004350da in MPEGVideoStreamFramer::continueReadProcessing (clientData=0x6d9000) at MPEGVideoStreamFramer.cpp:155
#8  0x000000000046f84f in StreamParser::afterGettingBytes1 (this=0x6d91b0, numBytesRead=150000, presentationTime=...) at StreamParser.cpp:191
#9  0x000000000046f718 in StreamParser::afterGettingBytes (clientData=0x6d91b0, numBytesRead=150000, presentationTime=...)
    at StreamParser.cpp:170
---------------------------------------------------------------------------------------------------------------------------
#10 0x00000000004300c2 in FramedSource::afterGetting (source=0x6d8f10) at FramedSource.cpp:92
#11 0x0000000000430c2c in ByteStreamFileSource::doReadFromFile (this=0x6d8f10) at ByteStreamFileSource.cpp:182
#12 0x00000000004309cb in ByteStreamFileSource::fileReadableHandler (source=0x6d8f10) at ByteStreamFileSource.cpp:126
</code></pre><p>We also will callback call stack, according to <code>FramedSource</code> the package
relationship, divided into several stages, different stages divided by dotted
lines.</p>
<p><code>MultiFramedRTPSink::afterGettingFrame()</code> The function is defined as follows:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void MultiFramedRTPSink
::afterGettingFrame(void* clientData, unsigned numBytesRead,
            unsigned numTruncatedBytes,
            struct timeval presentationTime,
            unsigned durationInMicroseconds) {
  MultiFramedRTPSink* sink = (MultiFramedRTPSink*)clientData;
  sink-&gt;afterGettingFrame1(numBytesRead, numTruncatedBytes,
               presentationTime, durationInMicroseconds);
}<br></div></div>

<p>In this function call <code>afterGettingFrame1()</code>, <code>afterGettingFrame1()</code> it will be
required to
call <code>sendPacketIfNecessary()</code>. <code>MultiFramedRTPSink::sendPacketIfNecessary()</code> The
definition is as follows:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void MultiFramedRTPSink::sendPacketIfNecessary() {
  if (fNumFramesUsedSoFar &gt; 0) {
    // Send the packet:
#ifdef TEST_LOSS
    if ((our_random()%10) != 0) // simulate 10% packet loss #####
#endif
    if (!fRTPInterface.sendPacket(fOutBuf-&gt;packet(), fOutBuf-&gt;curPacketSize())) {
      // if failure handler has been specified, call it
      if (fOnSendErrorFunc != NULL) (*fOnSendErrorFunc)(fOnSendErrorData);
    }
    ++fPacketCount;
    fTotalOctetCount += fOutBuf-&gt;curPacketSize();
    fOctetCount += fOutBuf-&gt;curPacketSize()
      - rtpHeaderSize - fSpecialHeaderSize - fTotalFrameSpecificHeaderSizes;
    ++fSeqNo; // for next time
  }
  if (fOutBuf-&gt;haveOverflowData()
      &amp;&amp; fOutBuf-&gt;totalBytesAvailable() &gt; fOutBuf-&gt;totalBufferSize()/2) {
    // Efficiency hack: Reset the packet start pointer to just in front of
    // the overflow data (allowing for the RTP header and special headers),
    // so that we probably don&apos;t have to &quot;memmove()&quot; the overflow data
    // into place when building the next packet:
    unsigned newPacketStart = fOutBuf-&gt;curPacketSize()
      - (rtpHeaderSize + fSpecialHeaderSize + frameSpecificHeaderSize());
    fOutBuf-&gt;adjustPacketStart(newPacketStart);
  } else {
    // Normal case: Reset the packet start pointer back to the start:
    fOutBuf-&gt;resetPacketStart();
  }
  fOutBuf-&gt;resetOffset();
  fNumFramesUsedSoFar = 0;
  if (fNoFramesLeft) {
    // We&apos;re done:
    onSourceClosure();
  } else {
    // We have more frames left to send.  Figure out when the next frame
    // is due to start playing, then make sure that we wait this long before
    // sending the next packet.
    struct timeval timeNow;
    gettimeofday(&amp;timeNow, NULL);
    int secsDiff = fNextSendTime.tv_sec - timeNow.tv_sec;
    int64_t uSecondsToGo = secsDiff*1000000 + (fNextSendTime.tv_usec - timeNow.tv_usec);
    if (uSecondsToGo &lt; 0 || secsDiff &lt; 0) { // sanity check: Make sure that the time-to-delay is non-negative:
      uSecondsToGo = 0;
    }
    // Delay this amount of time:
    nextTask() = envir().taskScheduler().scheduleDelayedTask(uSecondsToGo, (TaskFunc*)sendNext, this);
  }
}<br></div></div>

<p>In <code>MultiFramedRTPSink::sendPacketIfNecessary()</code>, the frame data is sent. And if
the streaming data transmission has not ended, then, after a data transmission
is complete, the timer will dispatch a mission <code>MultiFramedRTPSink::sendNext()</code> to
send the data frame again.</p>
<p><code>MultiFramedRTPSink::sendNext()</code> Performing <code>MultiFramedRTPSink::continuePlaying()</code> a
similar process, and acquires the next frame transmission.</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void MultiFramedRTPSink::sendNext(void* firstArg) {
  MultiFramedRTPSink* sink = (MultiFramedRTPSink*)firstArg;
  sink-&gt;buildAndSendPacket(False);
}<br></div></div>

<p>Of course, not every time you send frame data, you need to get the data directly
from the streaming source. In <code>StreamParser</code> the judgment will do, the frame data
when needed, it will initiate a streaming media file is read. If you don&apos;t need
to read the streaming data from the file, you will call back directly:</p>
<pre><code>#0  MultiFramedRTPSink::sendPacketIfNecessary (this=0x702140) at MultiFramedRTPSink.cpp:365
#1  0x000000000045b5a4 in MultiFramedRTPSink::afterGettingFrame1 (this=0x702140, frameSize=1444, numTruncatedBytes=0, presentationTime=...,
    durationInMicroseconds=40000) at MultiFramedRTPSink.cpp:347
#2  0x000000000045afd5 in MultiFramedRTPSink::afterGettingFrame (clientData=0x702140, numBytesRead=1444, numTruncatedBytes=0,
    presentationTime=..., durationInMicroseconds=40000) at MultiFramedRTPSink.cpp:235
#3  0x00000000004300c2 in FramedSource::afterGetting (source=0x7036d0) at FramedSource.cpp:92
------------------------------------------------------------------------------------------------------------------------------------
#4  0x0000000000474ca6 in H264or5Fragmenter::doGetNextFrame (this=0x7036d0) at H264or5VideoRTPSink.cpp:263
#5  0x0000000000474dac in H264or5Fragmenter::afterGettingFrame1 (this=0x7036d0, frameSize=53527, numTruncatedBytes=0, presentationTime=...,
    durationInMicroseconds=40000) at H264or5VideoRTPSink.cpp:292
#6  0x0000000000474d25 in H264or5Fragmenter::afterGettingFrame (clientData=0x7036d0, frameSize=53527, numTruncatedBytes=0,
    presentationTime=..., durationInMicroseconds=40000) at H264or5VideoRTPSink.cpp:279
#7  0x00000000004300c2 in FramedSource::afterGetting (source=0x701e20) at FramedSource.cpp:92
------------------------------------------------------------------------------------------------------------------------------------
#8  0x00000000004351ea in MPEGVideoStreamFramer::continueReadProcessing (this=0x701e20) at MPEGVideoStreamFramer.cpp:179
#9  0x0000000000435077 in MPEGVideoStreamFramer::doGetNextFrame (this=0x701e20) at MPEGVideoStreamFramer.cpp:142
------------------------------------------------------------------------------------------------------------------------------------
#10 0x000000000043004c in FramedSource::getNextFrame (this=0x701e20, to=0x7c3091 &quot;\205\270@\367\017\204?\017&quot;, &lt;incomplete sequence \340&gt;,
    maxSize=100000,
    afterGettingFunc=0x474cd2 &lt;H264or5Fragmenter::afterGettingFrame(void*, unsigned int, unsigned int, timeval, unsigned int)&gt;,
    afterGettingClientData=0x7036d0, onCloseFunc=0x4300c6 &lt;FramedSource::handleClosure(void*)&gt;, onCloseClientData=0x7036d0)
    at FramedSource.cpp:78
#11 0x000000000047480a in H264or5Fragmenter::doGetNextFrame (this=0x7036d0) at H264or5VideoRTPSink.cpp:181
------------------------------------------------------------------------------------------------------------------------------------
#12 0x000000000043004c in FramedSource::getNextFrame (this=0x7036d0, to=0x7aa81c &quot;|\205\270@\367\017\204?\017&quot;, &lt;incomplete sequence \340&gt;,
    maxSize=100452,
    afterGettingFunc=0x45af82 &lt;MultiFramedRTPSink::afterGettingFrame(void*, unsigned int, unsigned int, timeval, unsigned int)&gt;,
    afterGettingClientData=0x702140, onCloseFunc=0x45b96c &lt;MultiFramedRTPSink::ourHandleClosure(void*)&gt;, onCloseClientData=0x702140)
    at FramedSource.cpp:78
#13 0x000000000045af61 in MultiFramedRTPSink::packFrame (this=0x702140) at MultiFramedRTPSink.cpp:224
#14 0x000000000045adae in MultiFramedRTPSink::buildAndSendPacket (this=0x702140, isFirstPacket=0 &apos;\000&apos;) at MultiFramedRTPSink.cpp:199
#15 0x000000000045b969 in MultiFramedRTPSink::sendNext (firstArg=0x702140) at MultiFramedRTPSink.cpp:422
#16 0x000000000047f165 in AlarmHandler::handleTimeout (this=0x7038a0) at BasicTaskScheduler0.cpp:34
#17 0x000000000047d268 in DelayQueue::handleAlarm (this=0x6cdc28) at DelayQueue.cpp:187
#18 0x000000000047c196 in BasicTaskScheduler::SingleStep (this=0x6cdc20, maxDelayTime=0) at BasicTaskScheduler.cpp:212
</code></pre><p>Summarize the sending process of RTP packets:</p>
<ol>
<li><p><code>OnDemandServerMediaSubsession</code> In execution <code>startStream()</code>, it will launch a
streaming media file to read the task, read the file from the
work <code>ByteStreamFileSource</code> of <code>doReadFromFile()</code> the Executive.</p>
</li>
<li><p>After the file has read some data, <code>MultiFramedRTPSink</code> a callback is
obtained <code>afterGetting()</code>, in which the frame data is sent.</p>
</li>
<li><p><code>MultiFramedRTPSink</code> In the callback, if the streaming media data has not been
read yet, a timer task is scheduled, and the action of acquiring the frame
data is initiated again after a period of time.</p>
</li>
<li><p>Repeat steps 2 and 3 until all the data has been sent.</p>
</li>
</ol>
<h2 id="rtcp-packet-reception"><a name="rtcp-packet-reception" class="anchor-navigation-ex-anchor" href="#rtcp-packet-reception"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. RTCP packet reception</h2>
<p><code>StreamState::startPlaying()</code> By <code>OnDemandServerMediaSubsession::createRTCP()</code> creation <code>RTCPInstance</code>:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">RTCPInstance* OnDemandServerMediaSubsession
::createRTCP(Groupsock* RTCPgs, unsigned totSessionBW, /* in kbps */
    unsigned char const* cname, RTPSink* sink) {
  fprintf(stderr, &quot;OnDemandServerMediaSubsession::createRTCP().\n&quot;);
  // Default implementation; may be redefined by subclasses:
  return RTCPInstance::createNew(envir(), RTCPgs, totSessionBW, cname, sink, NULL/*we&apos;re a server*/);
}<br></div></div>

<p><code>OnDemandServerMediaSubsession::createRTCP()</code> Through
the <code>RTCPInstance::createNew()</code> creation:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">RTCPInstance::RTCPInstance(UsageEnvironment&amp; env, Groupsock* RTCPgs,
               unsigned totSessionBW,
               unsigned char const* cname,
               RTPSink* sink, RTPSource* source,
               Boolean isSSMSource)
  : Medium(env), fRTCPInterface(this, RTCPgs), fTotSessionBW(totSessionBW),
    fSink(sink), fSource(source), fIsSSMSource(isSSMSource),
    fCNAME(RTCP_SDES_CNAME, cname), fOutgoingReportCount(1),
    fAveRTCPSize(0), fIsInitial(1), fPrevNumMembers(0),
    fLastSentSize(0), fLastReceivedSize(0), fLastReceivedSSRC(0),
    fTypeOfEvent(EVENT_UNKNOWN), fTypeOfPacket(PACKET_UNKNOWN_TYPE),
    fHaveJustSentPacket(False), fLastPacketSentSize(0),
    fByeHandlerTask(NULL), fByeHandlerClientData(NULL),
    fSRHandlerTask(NULL), fSRHandlerClientData(NULL),
    fRRHandlerTask(NULL), fRRHandlerClientData(NULL),
    fSpecificRRHandlerTable(NULL),
    fAppHandlerTask(NULL), fAppHandlerClientData(NULL) {
#ifdef DEBUG
  fprintf(stderr, &quot;RTCPInstance[%p]::RTCPInstance()\n&quot;, this);
#endif
  if (fTotSessionBW == 0) { // not allowed!
    env &lt;&lt; &quot;RTCPInstance::RTCPInstance error: totSessionBW parameter should not be zero!\n&quot;;
    fTotSessionBW = 1;
  }
  if (isSSMSource) RTCPgs-&gt;multicastSendOnly(); // don&apos;t receive multicast
  double timeNow = dTimeNow();
  fPrevReportTime = fNextReportTime = timeNow;
  fKnownMembers = new RTCPMemberDatabase(*this);
  fInBuf = new unsigned char[maxRTCPPacketSize];
  if (fKnownMembers == NULL || fInBuf == NULL) return;
  fNumBytesAlreadyRead = 0;
  fOutBuf = new OutPacketBuffer(preferredRTCPPacketSize, maxRTCPPacketSize, maxRTCPPacketSize);
  if (fOutBuf == NULL) return;
  if (fSource != NULL &amp;&amp; fSource-&gt;RTPgs() == RTCPgs) {
    // We&apos;re receiving RTCP reports that are multiplexed with RTP, so ask the RTP source
    // to give them to us:
    fSource-&gt;registerForMultiplexedRTCPPackets(this);
  } else {
    // Arrange to handle incoming reports from the network:
    TaskScheduler::BackgroundHandlerProc* handler
      = (TaskScheduler::BackgroundHandlerProc*)&amp;incomingReportHandler;
    fRTCPInterface.startNetworkReading(handler);
  }
  // Send our first report.
  fTypeOfEvent = EVENT_REPORT;
  onExpire(this);
}
. . . . . .
RTCPInstance* RTCPInstance::createNew(UsageEnvironment&amp; env, Groupsock* RTCPgs,
                      unsigned totSessionBW,
                      unsigned char const* cname,
                      RTPSink* sink, RTPSource* source,
                      Boolean isSSMSource) {
  return new RTCPInstance(env, RTCPgs, totSessionBW, cname, sink, source,
              isSSMSource);
}<br></div></div>

<p>It can be seen in <code>RTCPInstance</code> the constructor,
call <code>RTPInterface::startNetworkReading()</code> registers a callback:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void RTPInterface
::startNetworkReading(TaskScheduler::BackgroundHandlerProc* handlerProc) {
  // Normal case: Arrange to read UDP packets:
  envir().taskScheduler().
    turnOnBackgroundReadHandling(fGS-&gt;socketNum(), handlerProc, fOwner);
  // Also, receive RTP over TCP, on each of our TCP connections:
  fReadHandlerProc = handlerProc;
  for (tcpStreamRecord* streams = fTCPStreams; streams != NULL;
       streams = streams-&gt;fNext) {
    // Get a socket descriptor for &quot;streams-&gt;fStreamSocketNum&quot;:
    SocketDescriptor* socketDescriptor = lookupSocketDescriptor(envir(), streams-&gt;fStreamSocketNum);
    // Tell it about our subChannel:
    socketDescriptor-&gt;registerRTPInterface(streams-&gt;fStreamChannelId, this);
  }
}<br></div></div>

<p>In <code>RTPInterface::startNetworkReading()</code> the RTCP will be registered in the socket
and event handlers on the socket to <code>TaskScheduler</code>. live555 It is in this way, be
notified when there is RTCP packet arrives, and
by <code>RTCPInstance::incomingReportHandler()</code> to handle RTCP packets.</p>
<h2 id="rtcp-packet-transmission"><a name="rtcp-packet-transmission" class="anchor-navigation-ex-anchor" href="#rtcp-packet-transmission"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. RTCP packet transmission</h2>
<p>RTCP packets as required by the <code>RTCPInstance::sendReport()</code> transmission function
and the like:</p>
<div class="ace"><div class="aceCode" data-config="{&quot;edit&quot;:false,&quot;lang&quot;:&quot;c_cpp&quot;,&quot;check&quot;:false,&quot;theme&quot;:&quot;monokai&quot;}">void RTCPInstance::sendReport() {
#ifdef DEBUG
  fprintf(stderr, &quot;sending REPORT\n&quot;);
#endif
  // Begin by including a SR and/or RR report:
  if (!addReport()) return;
  // Then, include a SDES:
  addSDES();
  // Send the report:
  sendBuiltPacket();
  // Periodically clean out old members from our SSRC membership database:
  const unsigned membershipReapPeriod = 5;
  if ((++fOutgoingReportCount) % membershipReapPeriod == 0) {
    unsigned threshold = fOutgoingReportCount - membershipReapPeriod;
    fKnownMembers-&gt;reapOldMembers(threshold);
  }
}
void RTCPInstance::sendBYE() {
#ifdef DEBUG
  fprintf(stderr, &quot;sending BYE\n&quot;);
#endif
  // The packet must begin with a SR and/or RR report:
  (void)addReport(True);
  addBYE();
  sendBuiltPacket();
}
void RTCPInstance::sendBuiltPacket() {
#ifdef DEBUG
  fprintf(stderr, &quot;sending RTCP packet\n&quot;);
  unsigned char* p = fOutBuf-&gt;packet();
  for (unsigned i = 0; i &lt; fOutBuf-&gt;curPacketSize(); ++i) {
    if (i%4 == 0) fprintf(stderr,&quot; &quot;);
    fprintf(stderr, &quot;%02x&quot;, p[i]);
  }
  fprintf(stderr, &quot;\n&quot;);
#endif
  unsigned reportSize = fOutBuf-&gt;curPacketSize();
  fRTCPInterface.sendPacket(fOutBuf-&gt;packet(), reportSize);
  fOutBuf-&gt;resetOffset();
  fLastSentSize = IP_UDP_HDR_SIZE + reportSize;
  fHaveJustSentPacket = True;
  fLastPacketSentSize = reportSize;
}<br></div></div>

<p>Just like in <code>StreamState::startPlaying()</code> the seen.</p>
<p><a href="https://www.wolfcstech.com/about/donate.html" target="_blank">Reward</a></p>
<p>Done.</p>
<h2 id="live555-source-code-analysis-series"><a name="live555-source-code-analysis-series" class="anchor-navigation-ex-anchor" href="#live555-source-code-analysis-series"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Live555 source code analysis series</h2>
<ol>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_introduction.html">Live555 Source code analysis: Introduction </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_infrastructure.html">live555 Source code analysis: Infrastructure </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_mediaserver.html">live555 Source code analysis: MediaSever </a></li>
<li><a href="Live555%20-%20Wireshark%20capture%20packet%20analysis%20RTSP_RTP_RTCP%20basic%20working%20process.html">Wireshark capture packet analysis RTSP/RTP/RTCP Basic working process </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_rtspserver.html">live555 Source code analysis: RTSPServer </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_describe%20processing.html">live555 Source code analysis: DESCRIBE processing </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_setup%20processing.html">live555 Source code analysis: SETUP processing </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_play%20processing.html">live555 Source code analysis :PLAY processing </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_RTSPServer%20component%20structure.html">live555 Source code analysis: RTSPServer component structure </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_servermediasession.html">live555 Source code analysis: </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_subsession%20SDP%20line%20generation.html">ServerMediaSession live555 Source code analysis: sub-session SDP line generation </a></li>
<li><a href="Live555%20-%20Live555%20source%20code%20analysis_Subsession%20SETUP.html">live555 Source code analysis: sub-session SETUP </a></li>
<li><a href="https://www.wolfcstech.com/2017/09/08/live555_src_analysis_start_streaming/" target="_blank">live555 Source code analysis: play start</a></li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Live555 - Live555 source code analysis_Subsession SETUP.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Live555 - Live555 source code analysis_Subsession SETUP">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Live555 - Live555 source code analysis_play start","level":"1.10.13","depth":2,"next":{"title":"Flutter","level":"1.11","depth":1,"ref":"","articles":[{"title":"Flutter Framework Analysis 1 - Overview and Window","level":"1.11.1","depth":2,"path":"Flutter Framework Analysis 1 - Overview and Window.md","ref":"Flutter Framework Analysis 1 - Overview and Window.md","articles":[]},{"title":"Flutter Framework Analysis 2 - Initialization","level":"1.11.2","depth":2,"path":"Flutter Framework Analysis 2 - Initialization.md","ref":"Flutter Framework Analysis 2 - Initialization.md","articles":[]},{"title":"Flutter Framework Analysis 3 - Widget, Element and RenderObject","level":"1.11.3","depth":2,"path":"Flutter Framework Analysis 3 - Widget, Element and RenderObject.md","ref":"Flutter Framework Analysis 3 - Widget, Element and RenderObject.md","articles":[]},{"title":"Flutter Framework Analysis 4 - Flutter Framework Operation","level":"1.11.4","depth":2,"path":"Flutter Framework Analysis 4 - Flutter Framework Operation.md","ref":"Flutter Framework Analysis 4 - Flutter Framework Operation.md","articles":[]},{"title":"Flutter Framework Analysis 5 - Animation","level":"1.11.5","depth":2,"path":"Flutter Framework Analysis 5 - Animation.md","ref":"Flutter Framework Analysis 5 - Animation.md","articles":[]},{"title":"Flutter Framework Analysis 6 - Layout","level":"1.11.6","depth":2,"path":"Flutter Framework Analysis 6 - Layout.md","ref":"Flutter Framework Analysis 6 - Layout.md","articles":[]},{"title":"Flutter Framework Analysis 7 - Drawing","level":"1.11.7","depth":2,"path":"Flutter Framework Analysis 7 - Drawing.md","ref":"Flutter Framework Analysis 7 - Drawing.md","articles":[]}]},"previous":{"title":"Live555 - Live555 source code analysis_Subsession SETUP","level":"1.10.12","depth":2,"path":"Live555 - Live555 source code analysis_Subsession SETUP.md","ref":"Live555 - Live555 source code analysis_Subsession SETUP.md","articles":[]},"dir":"ltr"},"config":{"plugins":["include-html","fancybox","anchor-navigation-ex-toc","ace","-lunr","-search","search-plus","hide-published-with","splitter","expandable-chapters-interactive","wide-page"],"root":"./docs","styles":{"website":"styles/website.css"},"pluginsConfig":{"fancybox":{"helpers":{"buttons":{}}},"ace":{},"splitter":{},"wide-page":{},"anchor-navigation-ex-toc":{"showLevel":true,"associatedWithSummary":true,"mode":"float","printLog":false,"multipleH1":true,"float":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""},"pageTop":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""}},"hide-published-with":{},"include-html":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"expandable-chapters-interactive":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{},"search-plus":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"Live555 - Live555 source code analysis_play start.md","mtime":"2019-03-05T06:23:21.389Z","type":"markdown"},"gitbook":{"version":"3.3.6","time":"2023-12-10T09:35:29.798Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.mousewheel.pack.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.fancybox.pack.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fancybox/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-expandable-chapters-interactive/expandable-chapters.js"></script>
        
    
        
        <script src="gitbook/@gitbook-ng/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

